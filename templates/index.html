{% extends "base.html" %}

{% block title %}ZimClassifieds Marketplace - Buy & Sell Online in Zimbabwe{% endblock %}

{% block content %}
<style>
    .hero {
        background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
        color: white;
        padding: 4rem 2rem;
        border-radius: 8px;
        text-align: center;
        margin-bottom: 3rem;
    }

    .hero h1 {
        font-size: 48px;
        margin-bottom: 1rem;
        font-weight: bold;
    }

    .hero p {
        font-size: 20px;
        margin-bottom: 2rem;
        opacity: 0.95;
    }

    .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
    }

    .search-box {
        display: flex;
        gap: 0.5rem;
        margin: 2rem 0;
        flex-wrap: wrap;
        justify-content: center;
    }

    .search-box input {
        min-width: 300px;
        padding: 14px;
        border: none;
        border-radius: 6px;
        font-size: 16px;
    }

    .search-box button {
        padding: 14px 28px;
        font-size: 16px;
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 1rem;
        margin: 3rem 0;
    }

    .category-card {
        background: white;
        padding: 1.5rem;
        border-radius: 8px;
        text-align: center;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        cursor: pointer;
        transition: all 0.3s;
        text-decoration: none;
        color: #333;
    }

    .category-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        color: #1e40af;
    }

    .category-icon {
        font-size: 32px;
        margin-bottom: 0.5rem;
    }

    .category-name {
        font-weight: bold;
        font-size: 14px;
    }

    .section-title {
        font-size: 28px;
        font-weight: bold;
        margin: 3rem 0 2rem 0;
        padding-bottom: 1rem;
        border-bottom: 3px solid #1e40af;
    }

    .products-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 3rem;
    }

    .product-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        transition: all 0.3s;
        text-decoration: none;
        color: #333;
        display: flex;
        flex-direction: column;
    }

    .product-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateY(-2px);
    }

    .product-image {
        width: 100%;
        height: 180px;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 60px;
        border-bottom: 1px solid #e5e7eb;
    }

    .product-content {
        padding: 1rem;
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    .product-name {
        font-weight: bold;
        font-size: 14px;
        margin-bottom: 0.5rem;
        line-height: 1.3;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .product-price {
        font-size: 16px;
        color: #1e40af;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .product-seller {
        font-size: 12px;
        color: #6b7280;
        margin-bottom: 0.5rem;
    }

    .product-rating {
        font-size: 12px;
        color: #f59e0b;
        margin-bottom: 0.5rem;
    }

    .sellers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 3rem;
    }

    .seller-card {
        background: white;
        border-radius: 8px;
        padding: 1.5rem;
        text-align: center;
        box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        transition: all 0.3s;
        text-decoration: none;
        color: #333;
    }

    .seller-card:hover {
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transform: translateY(-2px);
    }

    .seller-logo {
        font-size: 48px;
        margin-bottom: 1rem;
    }

    .seller-name {
        font-weight: bold;
        font-size: 16px;
        margin-bottom: 0.5rem;
    }

    .seller-rating {
        color: #f59e0b;
        font-size: 14px;
        margin-bottom: 0.5rem;
    }

    .seller-sales {
        color: #6b7280;
        font-size: 12px;
    }

    .cta-section {
        background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
        color: white;
        padding: 3rem 2rem;
        border-radius: 8px;
        text-align: center;
        margin: 3rem 0;
    }

    .cta-section h2 {
        margin-bottom: 1rem;
    }

    .cta-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 2rem;
    }

    .badge {
        display: inline-block;
        background: #059669;
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 12px;
        margin-bottom: 0.5rem;
    }
</style>

<!-- Hero Section -->
<div class="hero">
    <h1>üõçÔ∏è Welcome to ZimClassifieds Marketplace</h1>
    <p>Shop from trusted sellers. Secure payments. Fast delivery across Zimbabwe.</p>
    
    <form method="get" action="/products" class="search-box">
        <input type="text" name="search" placeholder="Search products..." required>
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <div class="hero-buttons">
        {% if 'user_id' not in session %}
        <a href="/register" class="btn btn-light btn-lg">Register</a>
        <a href="/login" class="btn btn-light btn-lg">Login</a>
        {% endif %}
        <a href="/products" class="btn btn-light btn-lg">Browse Products</a>
    </div>
</div>

<!-- Product Categories -->
<h2 class="section-title">Shop by Category</h2>

<div class="categories-grid">
    {% for category in categories %}
    <a href="/products?category={{ category }}" class="category-card">
        <div class="category-icon">
            {% if category == 'Electronics' %}üì±
            {% elif category == 'Fashion' %}üëï
            {% elif category == 'Home & Garden' %}üè†
            {% elif category == 'Sports & Outdoors' %}‚öΩ
            {% elif category == 'Toys & Games' %}üéÆ
            {% elif category == 'Books & Media' %}üìö
            {% elif category == 'Health & Beauty' %}üíÑ
            {% elif category == 'Food & Groceries' %}üçî
            {% elif category == 'Furniture' %}ü™ë
            {% elif category == 'Tools & Hardware' %}üî®
            {% elif category == 'Automotive' %}üöó
            {% elif category == 'Pet Supplies' %}ÔøΩ
            {% else %}üè∑Ô∏è
            {% endif %}
        </div>
        <div class="category-name">{{ category }}</div>
    </a>
    {% endfor %}
</div>

<!-- Featured Products -->
<h2 class="section-title">Featured Products</h2>

{% if featured_products %}
<div class="products-grid">
    {% for product in featured_products %}
    <a href="/product/{{ product.product_id }}" class="product-card">
        <div class="product-image">
            {% if product.category == 'Electronics' %}üì±
            {% elif product.category == 'Fashion' %}üëï
            {% elif product.category == 'Home & Garden' %}üè†
            {% elif product.category == 'Sports & Outdoors' %}‚öΩ
            {% elif product.category == 'Toys & Games' %}üéÆ
            {% elif product.category == 'Books & Media' %}üìö
            {% elif product.category == 'Health & Beauty' %}ÔøΩ
            {% elif product.category == 'Food & Groceries' %}üçî
            {% elif product.category == 'Furniture' %}ü™ë
            {% elif product.category == 'Tools & Hardware' %}üî®
            {% elif product.category == 'Automotive' %}üöó
            {% elif product.category == 'Pet Supplies' %}üêæ
            {% else %}ÔøΩ
            {% endif %}
        </div>
        <div class="product-content">
            <div class="product-name">{{ product.name }}</div>
            <div class="product-price">ZWL {{ "{:,.0f}".format(product.price) }}</div>
            <div class="product-seller">{{ product.store_name }}</div>
            {% if product.rating > 0 %}
            <div class="product-rating">‚≠ê {{ "%.1f"|format(product.rating) }} ({{ product.review_count }})</div>
            {% endif %}
            {% if product.stock_quantity > 0 %}
            <div class="badge">In Stock</div>
            {% endif %}
        </div>
    </a>
    {% endfor %}
</div>
{% else %}
<div class="alert alert-info">No products yet. Check back soon!</div>
{% endif %}

<div style="text-align: center; margin: 2rem 0;">
    <a href="/products" class="btn btn-primary btn-lg">View All Products ‚Üí</a>
</div>

<!-- Top Sellers -->
<h2 class="section-title">Top Sellers</h2>

{% if top_sellers %}
<div class="sellers-grid">
    {% for seller in top_sellers %}
    <a href="/seller/{{ seller.store_slug }}" class="seller-card">
        <div class="seller-logo">üè™</div>
        <div class="seller-name">{{ seller.store_name }}</div>
        <div class="seller-rating">‚≠ê {{ "%.1f"|format(seller.rating) }} Rating</div>
        <div class="seller-sales">{{ seller.total_sales }} Sales</div>
    </a>
    {% endfor %}
</div>
{% endif %}

<!-- Become a Seller CTA -->
<div class="cta-section">
    <h2>Ready to Sell?</h2>
    <p>Join thousands of sellers making money on ZimClassifieds. It's free and easy to get started.</p>
    
    <div class="cta-buttons">
        <a href="/sellers/register" class="btn btn-light btn-lg">Become a Seller</a>
        <a href="{{ url_for('about') }}" class="btn btn-outline-light btn-lg">Learn More</a>
    </div>
</div>

<!-- Why Shop With Us -->
<div style="margin-top: 3rem;">
    <h2 class="section-title">Why Shop With Us?</h2>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
        <div style="text-align: center;">
            <div style="font-size: 40px; margin-bottom: 1rem;">‚úÖ</div>
            <h4>Safe & Secure</h4>
            <p>Secure payment processing with Stripe. Protected buyer guarantee.</p>
        </div>
        
        <div style="text-align: center;">
            <div style="font-size: 40px; margin-bottom: 1rem;">üöö</div>
            <h4>Fast Delivery</h4>
            <p>Same-city next-day delivery. Cross-city in 2-3 days via warehouse hubs.</p>
        </div>
        
        <div style="text-align: center;">
            <div style="font-size: 40px; margin-bottom: 1rem;">‚≠ê</div>
            <h4>Trusted Sellers</h4>
            <p>Verified sellers with ratings. Real reviews from verified buyers.</p>
        </div>
    </div>
</div>

<!-- Trust Signals -->
<div style="background: #f9fafb; padding: 2rem; border-radius: 8px; margin-top: 3rem; text-align: center;">
    <h3>Trusted by Thousands</h3>
    <p style="font-size: 18px; color: #059669; margin: 1rem 0;">
        üåü 1000+ Products | üë• 500+ Sellers | üì¶ 10,000+ Happy Customers
    </p>
</div>

{% endblock %}
